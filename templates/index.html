<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Quiz Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>English Quiz Generator</h1>
        
        <div id="api-key-section" class="section">
            <h2>Enter Your Gemini API Key</h2>
            <p class="description">
                To use this quiz generator, you need a Gemini Flash 2.0 API key.
                Your API key is stored locally in your browser and is only used to make requests to the Gemini API.
            </p>
            <div class="form-group">
                <label for="api-key">API Key</label>
                <input type="password" id="api-key" placeholder="Enter your Gemini API key" required>
            </div>
            <button id="submit-api-key" class="btn primary-btn">Continue</button>
        </div>
        
        <div id="quiz-form-section" class="section hidden">
            <h2>Generate an English Quiz</h2>
            <div class="form-group">
                <label for="level">English Level</label>
                <select id="level" required>
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate" selected>Intermediate</option>
                    <option value="Advanced">Advanced</option>
                </select>
            </div>
            <div class="form-group">
                <label for="topic">Quiz Topic</label>
                <input type="text" id="topic" placeholder="e.g., Business English, Travel Vocabulary, Idioms" required>
            </div>
            <button id="generate-quiz" class="btn primary-btn">Generate Quiz</button>
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Generating your quiz...</p>
            </div>
        </div>
        
        <div id="quiz-display-section" class="section hidden">
            <h2 id="quiz-title"></h2>
            <div id="passage-container" class="passage hidden">
                <h3>Reading Passage:</h3>
                <p id="passage-text"></p>
            </div>
            <div id="questions-container"></div>
            <button id="submit-quiz" class="btn primary-btn">Submit Answers</button>
        </div>
        
        <div id="results-section" class="section hidden">
            <h2>Quiz Results</h2>
            <div class="score-display">
                <span id="score"></span>/<span id="total"></span>
                (<span id="percentage"></span>%)
            </div>
            <p id="score-message"></p>
            <h3>Review Your Answers</h3>
            <div id="review-container"></div>
            <button id="new-quiz" class="btn primary-btn">Create New Quiz</button>
        </div>
        
        <footer>
            <p>English Quiz Generator powered by Gemini Flash 2.0 API</p>
            <p>Your API key is stored locally in your browser and is never sent to our servers.</p>
        </footer>
    </div>
    
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>